# Технический документ - Системы формирования команд для марафона

## Стек
- Fullstack Фреймворк NextJS (App Router)
- Tailwind + CSS-модули (при необходимости сложных стилей)
- Serverless MongoDB Atlas
- Почтовый клиент Resend
- Библиотека jose (JWT сессии)

## API Ограничения

### Rate Limiting
- Общий лимит API: 100 запросов в минуту на IP
- Почтовый клиент: 1 запрос в минуту, 10 в час на email-адрес
- Создание команд: 5 в час на пользователя

### Валидация данных
- `name` (ФИО, название команды/марафона): 1-100 символов
- `nickname`, `slug`: 1-16 символов, латинские буквы, цифры, `-_`, регистронезависимый
- `description` (описание профиля, команды): до 2000 символов
- `message` (заявки, приглашения): до 500 символов
- `chatLink`, `gitLink`: валидный https URL, до 500 символов
- `roles`, `technologies`: массив из n элементов
- `minTeamSize`, `maxTeamSize`: 1-50, minTeamSize ≤ maxTeamSize

### Безопасность
- CSRF-защита через JWT токены (jose) в httpOnly cookies